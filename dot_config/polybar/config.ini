; ============================================================
; Polybar config — Gruvbox Dark (Cinnamon-safe, Fixed Stacking)
; ============================================================

[colors]
background = #282828
background-alt = #3c3836
foreground = #ebdbb2

gruv-red = #cc241d
gruv-green = #98971a
gruv-yellow = #d79921
gruv-blue = #458588
gruv-purple = #b16286
gruv-aqua = #689d6a
gruv-orange = #d65d0e
gruv-gray = #a89984

nord-blue = #88C0D0
cpu-ram-color = #cc241d


; ================= BAR =================

[bar/top]
width = 100%
height = 38
radius = 0
padding-left = 1
padding-right = 1
module-margin = 0

background = #00000000
foreground = ${colors.foreground}

line-size = 3

font-0 = "Maple Mono NF:style=Bold:size=12;4"
font-1 = "Noto Sans CJK SC:style=Bold:size=12;4"
font-2 = "Symbols Nerd Font:size=13;4"

; --- CRITICAL FOR CINNAMON ---
override-redirect = false
wm-restack = i3
wm-name = polybar
fixed-center = true
enable-ipc = true

cursor-click = pointer
cursor-scroll = ns-resize

tray-position = none
bottom = false

; Replaced 'notifications' with 'brightness' at the end
modules-left = launcher sep-blue spaces sep-purple title sep-gray pinned sep-gray filesystem sep-green date time sep network sep-cpu-ram cpu memory sep-blue temp sep-orange pulseaudio sep-purple brightness
modules-center =
modules-right =


; ================= SEPARATORS =================

[module/sep]
type = custom/text
format = " "
format-background = #00000000
format-padding = 0

[module/sep-blue]
inherit = module/sep
[module/sep-purple]
inherit = module/sep
[module/sep-aqua]
inherit = module/sep
[module/sep-yellow]
inherit = module/sep
[module/sep-green]
inherit = module/sep
[module/sep-orange]
inherit = module/sep
[module/sep-red]
inherit = module/sep
[module/sep-cpu-ram]
inherit = module/sep
[module/sep-gray]
inherit = module/sep


; ================= MODULES =================

[module/launcher]
type = custom/text
format = "| 󰏗 |"
format-background = ${colors.background-alt}
format-foreground = ${colors.gruv-blue}
format-padding = 1
format-underline = ${colors.gruv-blue}
format-overline = ${colors.gruv-blue}
click-left = xdotool key Super_L


[module/spaces]
type = internal/xworkspaces
format = <label-state>
format-background = ${colors.background-alt}
format-padding = 0
format-underline = ${colors.gruv-purple}
format-overline = ${colors.gruv-purple}
format-prefix = "| "
format-prefix-foreground = ${colors.gruv-purple}
format-suffix = " |"
format-suffix-foreground = ${colors.gruv-purple}

label-active = %icon%
label-active-foreground = ${colors.gruv-yellow}
label-active-padding = 1
label-occupied = %icon%
label-occupied-foreground = ${colors.foreground}
label-occupied-padding = 1
label-empty = %icon%
label-empty-foreground = ${colors.gruv-gray}
label-empty-padding = 1

icon-0 = 1;1
icon-1 = 2;2
icon-2 = 3;3
icon-3 = 4;4
icon-default = 


[module/title]
type = internal/xwindow
format = <label>
format-background = ${colors.background-alt}
format-foreground = ${colors.foreground}
format-padding = 1
format-underline = ${colors.gruv-aqua}
format-overline = ${colors.gruv-aqua}
format-prefix = "| "
format-prefix-foreground = ${colors.gruv-aqua}
format-suffix = " |"
format-suffix-foreground = ${colors.gruv-aqua}
label = %class%
label-maxlen = 7
label-ellipsis = true
label-empty = " Desk "


[module/pinned]
type = custom/text
format-background = ${colors.background-alt}
format-foreground = ${colors.nord-blue}
format-padding = 1
format-underline = ${colors.nord-blue}
format-overline = ${colors.nord-blue}
; Removed nemo (explorer)
format = "| %{A1:kitty:}  %{A} %{A1:firefox:}  %{A} %{A1:spotify:}  %{A} %{A1:discord:}  %{A} %{A1:claude-desktop:} 󰚩 %{A} %{A1:codium:}  %{A} |"


[module/brightness]
type = internal/backlight
; Use 'ls /sys/class/backlight/' to list available cards
card = intel_backlight
enable-scroll = true

format = <label>
format-background = ${colors.background-alt}
format-padding = 1
format-underline = ${colors.gruv-purple}
format-overline = ${colors.gruv-purple}
format-prefix = "|  "
format-prefix-foreground = ${colors.gruv-purple}
format-suffix = " |"
format-suffix-foreground = ${colors.gruv-purple}
label = %percentage%%
label-padding-right = 1


[module/date]
type = internal/date
interval = 30
date = " %d %b"
format = <label>
format-background = ${colors.background-alt}
format-foreground = ${colors.foreground}
format-padding = 1
format-underline = ${colors.gruv-yellow}
format-overline = ${colors.gruv-yellow}
format-prefix = "| "
format-prefix-foreground = ${colors.gruv-yellow}
label = %date%
label-font = 1


[module/time]
type = internal/date
interval = 30
date = " %H:%M"
format = <label>
format-background = ${colors.background-alt}
format-foreground = ${colors.foreground}
format-padding = 1
format-underline = ${colors.gruv-yellow}
format-overline = ${colors.gruv-yellow}
format-suffix = " |"
format-suffix-foreground = ${colors.gruv-yellow}
label = %date%
label-font = 1


[module/network]
type = internal/network
interface-type = wireless
interval = 3.0
format-connected = <label-connected>
format-connected-background = ${colors.background-alt}
format-connected-padding = 1
format-connected-underline = ${colors.gruv-aqua}
format-connected-overline = ${colors.gruv-aqua}
format-connected-prefix = "|   "
format-connected-prefix-foreground = ${colors.gruv-aqua}
format-connected-suffix = " |"
format-connected-suffix-foreground = ${colors.gruv-aqua}
label-connected = "%downspeed:%"
label-connected-padding-right = 1


[module/cpu]
type = internal/cpu
interval = 2
format = <label>
format-background = ${colors.background-alt}
format-padding = 1
format-underline = ${colors.cpu-ram-color}
format-overline = ${colors.cpu-ram-color}
format-prefix = "|  "
format-prefix-foreground = ${colors.cpu-ram-color}
label = %percentage%%
label-padding-right = 1


[module/memory]
type = internal/memory
interval = 2
format = <label>
format-background = ${colors.background-alt}
format-padding = 1
format-underline = ${colors.cpu-ram-color}
format-overline = ${colors.cpu-ram-color}
format-prefix = " "
format-prefix-foreground = ${colors.cpu-ram-color}
format-suffix = " |"
format-suffix-foreground = ${colors.cpu-ram-color}
label = %gb_used%
label-padding-right = 1


[module/temp]
type = internal/temperature
thermal-zone = 0
warn-temperature = 60
format = <label>
format-background = ${colors.background-alt}
format-padding = 1
format-underline = ${colors.gruv-blue}
format-overline = ${colors.gruv-blue}
format-prefix = "| "
format-prefix-foreground = ${colors.gruv-blue}
format-suffix = " |"
format-suffix-foreground = ${colors.gruv-blue}
label = %temperature-c%
label-padding-right = 1


[module/filesystem]
type = internal/fs
mount-0 = /
interval = 30
fixed-values = true
format-mounted = <label-mounted>
format-mounted-background = ${colors.background-alt}
format-mounted-padding = 1
format-mounted-underline = ${colors.gruv-green}
format-mounted-overline = ${colors.gruv-green}
format-mounted-prefix = "|  "
format-mounted-prefix-foreground = ${colors.gruv-green}
format-mounted-suffix = " |"
format-mounted-suffix-foreground = ${colors.gruv-green}
label-mounted = %used%
label-mounted-padding-right = 1


[module/pulseaudio]
type = internal/pulseaudio
format-volume = <label-volume>
format-volume-background = ${colors.background-alt}
format-volume-padding = 1
format-volume-underline = ${colors.gruv-orange}
format-volume-overline = ${colors.gruv-orange}
format-volume-prefix = "|  "
format-volume-prefix-foreground = ${colors.gruv-orange}
format-volume-suffix = " |"
format-volume-suffix-foreground = ${colors.gruv-orange}
label-volume = %percentage%%
label-volume-padding-right = 1

format-muted-background = ${colors.background-alt}
format-muted-padding = 1
format-muted-underline = ${colors.gruv-gray}
format-muted-overline = ${colors.gruv-gray}
format-muted-prefix = "| "
format-muted-prefix-foreground = ${colors.gruv-gray}
format-muted-suffix = " |"
format-muted-suffix-foreground = ${colors.gruv-gray}
label-muted =  Muted
label-muted-foreground = ${colors.gruv-gray}
label-muted-padding-right = 1
